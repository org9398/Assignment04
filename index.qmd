---
title: "Assignment 04"
author: "Olivia Gomez and Edward Malcolm"
format:
  html:
    self-contained: true
---

```{r}
library(tidyverse)
library(janitor)
base_url <- "https://www2.census.gov/programs-surveys/demo/datasets/hhp/"
week_url <- "2023/wk52/HPS_Week52_PUF_CSV.zip"

pulse_url <- paste0(base_url, week_url)

dir.create("data")

download.file(
pulse_url,
destfile = "data/pulse52.zip"
)

unzip(zipfile = "data/pulse52.zip", exdir = "data")

pulse <- read_csv("data/pulse2022_puf_52.csv") %>%
  janitor::clean_names()


```

We are using data from the U.S. Census Bureau's Household Pulse Survey - linked [here.](https://www2.census.gov/programs-surveys/demo/datasets/hhp/)

We specifically used data from Week 52.

**Graph 1**

income distribution by region

```{r}
pulse %>%
  filter(income != -99, income != -88) %>%
  ggplot() +
  geom_bar(mapping = aes(x = income), show.legend = TRUE) +
  facet_wrap(~ region)
```

**Graph 2**

number of people in household by average spent on groceries

```{r}
pulse %>%
  group_by(thhld_numper) %>%
  mutate(avg_spend = mean(tspndfood)
  ) %>%
  ggplot() +
  geom_line(mapping = aes(x = thhld_numper, y = avg_spend)) + 
  geom_point(mapping = aes(x = thhld_numper, y = avg_spend))

```

**Graph 3**

```{r}
pulse %>%
  filter(forclose != -99, forclose != -88) %>%
  ggplot(aes(x = forclose, fill = factor(rrace))) +  
  geom_histogram(binwidth = 0.9) +
  labs(title = "Histogram of 'forclose' by 'rrace'")



```

**Graph 4**

educational attainment versus avg number of children in household

```{r}
pulse %>%
  group_by(eeduc) %>%
  summarize(avg_num_child = mean(thhld_numkid, na.rm = TRUE)) %>%
  ggplot(mapping = aes(x = factor(eeduc), y = avg_num_child)) +
  geom_col()
```
